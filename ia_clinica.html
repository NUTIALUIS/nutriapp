<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üìã Gesti√≥n Cl√≠nica Nutricional - Consultorio ObstNut</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      min-height: 100vh;
      padding: 2rem 1rem;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .card {
      box-shadow: 0 8px 30px rgba(0,0,0,0.1);
      border: 0;
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 30px;
    }
    .card-header {
      background: linear-gradient(90deg, #2563eb, #3b82f6);
      color: white;
      font-weight: 600;
      padding: 25px;
      text-align: center;
    }
    .grupo-card {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      margin-bottom: 30px;
    }
    .grupo-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #f0f0f0;
    }
    .grupo-header i {
      font-size: 1.5rem;
    }
    .grupo-header h3 {
      margin: 0;
      color: #1e40af;
    }
    .form-check {
      margin: 10px 0;
    }
    .form-check-label {
      font-size: 1.05rem;
      padding: 8px 12px;
      border-radius: 8px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .form-check-input:checked + .form-check-label {
      background: #dbeafe;
      border: 2px solid #3b82f6;
      color: #1e40af;
      font-weight: 500;
    }
    .protocolo-card {
      background: #ecfdf5;
      border-left: 5px solid #10b981;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(16, 185, 129, 0.1);
      margin: 20px 0;
      transition: transform 0.3s ease;
    }
    .protocolo-card:hover {
      transform: translateY(-3px);
    }
    .protocolo-card h5 {
      color: #065f46;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .protocolo-card p {
      margin: 0;
      line-height: 1.7;
      color: #374151;
      font-size: 1.05rem;
    }
    .btn-primary {
      background: #2563eb;
      border: none;
      padding: 12px 24px;
      font-weight: 600;
      border-radius: 10px;
      font-size: 1.1rem;
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      background: #1d4ed8;
      transform: translateY(-2px);
    }
    .btn-imprimir {
      background: #2196f3;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 500;
      margin-top: 20px;
    }
    .search-box {
      max-width: 600px;
      margin: 20px auto 30px;
    }
    .search-box input {
      width: 100%;
      padding: 12px 20px;
      border-radius: 12px;
      border: 2px solid #e5e7eb;
      font-size: 1.1rem;
    }
    .search-box input:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
    footer {
      margin-top: 40px;
      text-align: center;
      color: #666;
      font-size: 0.9rem;
      padding: 20px;
    }
    @media print {
      body {
        background: white;
        padding: 20px;
      }
      .btn-imprimir, .search-box, footer {
        display: none !important;
      }
      .card, .grupo-card, .protocolo-card {
        box-shadow: none !important;
        border: 1px solid #ddd;
      }
      .protocolo-card {
        page-break-inside: avoid;
        margin: 15px 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <div class="card">
          <div class="card-header">
            <h1 class="mb-2">üìã Gesti√≥n Cl√≠nica Nutricional</h1>
            <p class="mb-0 opacity-75">Herramienta para profesionales - Consultorio ObstNut</p>
          </div>
          <div class="card-body p-4">
            <div class="alert alert-info" role="alert">
              <i class="fas fa-info-circle"></i> <strong>Selecciona una o m√°s condiciones</strong> para ver los protocolos nutricionales recomendados.
            </div>

            <!-- B√∫squeda -->
            <div class="search-box">
              <input type="text" id="busqueda" placeholder="Buscar condici√≥n (ej: diabetes, embarazo, deportistas...)" oninput="filtrarCondiciones()">
            </div>

            <!-- Secci√≥n de selecci√≥n -->
            <div id="seleccion"></div>

            <!-- Bot√≥n de imprimir -->
            <div class="text-center mt-4">
              <button onclick="imprimirProtocolos()" class="btn btn-imprimir">
                <i class="fas fa-print"></i> Imprimir Protocolos Seleccionados
              </button>
            </div>

            <!-- Protocolos -->
            <hr class="my-5">
            <h2 class="text-center mb-4">üéØ Protocolos Nutricionales Sugeridos</h2>
            <div id="protocolos">
              <div class="alert alert-secondary text-center">
                Selecciona una o m√°s condiciones para ver sugerencias...
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <p><i class="fas fa-heart" style="color:#2563eb;"></i> ¬© 2025 Consultorio ObstNut ‚Äî Atenci√≥n nutricional personalizada</p>
    </footer>
  </div>

  <script>
    const condiciones = {
      cronicas: {
        nombre: "Enfermedades Cr√≥nicas",
        icono: "fas fa-heartbeat",
        color: "#ef4444",
        items: [
          "Hipertensi√≥n arterial",
          "Diabetes tipo 1",
          "Diabetes tipo 2",
          "Dislipidemias",
          "Obesidad / Sobrepeso",
          "Insuficiencia renal cr√≥nica",
          "S√≠ndrome metab√≥lico",
          "Hipotiroidismo",
          "H√≠gado graso",
        ]
      },
      agudas: {
        nombre: "Condiciones Agudas",
        icono: "fas fa-bolt",
        color: "#f59e0b",
        items: [
          "Gastritis",
          "Colitis",
          "SII",
          "Alergias / Intolerancias",
          "Estre√±imiento",
          "Diarrea",
          "Migra√±as alimentarias",
        ]
      },
      postquirurgicos: {
        nombre: "Postquir√∫rgicos",
        icono: "fas fa-briefcase-medical",
        color: "#8b5cf6",
        items: [
          "Cirug√≠a de ves√≠cula",
          "Apendicectom√≠a",
          "Fracturas / trauma",
          "Cirug√≠as ginecol√≥gicas",
          "Cirug√≠a bari√°trica",
        ]
      },
      especiales: {
        nombre: "Grupos Especiales",
        icono: "fas fa-users",
        color: "#10b981",
        items: [
          "Embarazo / Lactancia",
          "Ni√±os",
          "Adultos mayores",
          "Deportistas - F√∫tbol",
          "Deportistas - Pesas",
          "Deportistas - B√°squet",
          "Deportistas - Tenis",
          "Condiciones neurol√≥gicas - Parkinson",
          "Condiciones neurol√≥gicas - Alzheimer",
          "Condiciones neurol√≥gicas - Esclerosis m√∫ltiple",
          "Condiciones neurol√≥gicas - Par√°lisis cerebral",
        ]
      },
    };

    const protocolos = {
      "Hipertensi√≥n arterial": "Dieta hipos√≥dica, rica en potasio natural, evitar embutidos y enlatados. Fomentar consumo de frutas, verduras y l√°cteos bajos en grasa.",
      "Diabetes tipo 1": "Control estricto de carbohidratos, ajuste de insulina seg√∫n indicaci√≥n m√©dica. Distribuci√≥n equilibrada de comidas y snacks.",
      "Diabetes tipo 2": "Dieta hipogluc√©mica, controlar √≠ndice gluc√©mico, repartir carbohidratos complejos. Priorizar fibra y prote√≠nas magras.",
      "Dislipidemias": "Reducir grasas saturadas y trans, aumentar omega 3 (pescado, nueces) y fibra soluble (avena, legumbres). Cocinar sin aceite.",
      "Obesidad / Sobrepeso": "Dieta hipocal√≥rica personalizada, fomentar actividad f√≠sica diaria, control de porciones y horarios. Evitar ultraprocesados.",
      "Insuficiencia renal cr√≥nica": "Dieta baja en potasio, f√≥sforo y prote√≠nas seg√∫n estadio. Restringir l√≠quidos si aplica. Evitar sal y alimentos procesados.",
      "S√≠ndrome metab√≥lico": "Dieta balanceada baja en az√∫cares simples, aumentar fibra, control de peso y actividad f√≠sica regular. Priorizar alimentos integrales.",
      "Hipotiroidismo": "Aporte adecuado de yodo (pescado, mariscos) y selenio (nueces, huevos). Evitar exceso de soja y cruc√≠feras crudas. Cocinar verduras.",
      "H√≠gado graso": "Dieta baja en grasas saturadas y az√∫cares, controlar peso gradual, evitar alcohol completamente. Aumentar vegetales y fibra.",
      "Gastritis": "Evitar alimentos √°cidos, picantes, caf√© y alcohol. Fraccionar comidas en 5-6 tomas diarias. Priorizar cocciones suaves (hervido, al vapor).",
      "Colitis": "Evitar irritantes (picantes, grasas, cafe√≠na), aumentar fibra soluble (avena, manzana cocida), fraccionar comidas. Hidrataci√≥n constante.",
      "SII": "Dieta baja en FODMAP inicialmente, control de estr√©s, registro de s√≠ntomas y alimentos desencadenantes. Reintroducci√≥n gradual guiada.",
      "Alergias / Intolerancias": "Identificar y excluir alimentos desencadenantes, leer etiquetas cuidadosamente, usar sustitutos adecuados. Educaci√≥n nutricional continua.",
      "Estre√±imiento": "Aumentar fibra gradualmente (frutas con c√°scara, verduras, cereales integrales), hidrataci√≥n adecuada (2-3L/d√≠a), fomentar actividad f√≠sica diaria.",
      "Diarrea": "Hidrataci√≥n oral con sales, dieta astringente (arroz blanco, zanahoria cocida, manzana asada), evitar irritantes y l√°cteos enteros. Reposici√≥n de electrolitos.",
      "Migra√±as alimentarias": "Identificar desencadenantes (quesos a√±ejos, chocolate, glutamato), evitar alimentos procesados, fraccionar comidas. Mantener horarios regulares.",
      "Cirug√≠a de ves√≠cula": "Dieta baja en grasas inicialmente, fraccionar comidas en 5-6 tomas, evitar irritantes y fritos. Aumentar fibra gradualmente.",
      "Apendicectom√≠a": "Dieta blanda postquir√∫rgica (arroz, pollo desmenuzado, pur√©s), reintroducci√≥n gradual de fibra, hidrataci√≥n constante. Evitar alimentos pesados.",
      "Fracturas / trauma": "Aporte adecuado de prote√≠nas (1.2-1.5g/kg), calcio (l√°cteos, sardinas) y vitamina D (sol, suplementos). Hidrataci√≥n y alimentos antiinflamatorios.",
      "Cirug√≠as ginecol√≥gicas": "Dieta equilibrada rica en hierro (carne, lentejas, espinacas) y prote√≠nas, control de estre√±imiento con fibra y agua. Evitar flatulentos.",
      "Cirug√≠a bari√°trica": "Dieta fraccionada en 6 comidas, control estricto de prote√≠nas (60-80g/d√≠a), suplementos vitam√≠nicos seg√∫n indicaci√≥n. Masticar bien y comer lento.",
      "Embarazo / Lactancia": "Aporte adecuado de calor√≠as y nutrientes (hierro, √°cido f√≥lico, calcio), hidrataci√≥n (3L/d√≠a), control de anemia. Evitar alcohol y cafe√≠na.",
      "Ni√±os": "Dieta equilibrada con variedad de alimentos, evitar ultraprocesados y az√∫cares a√±adidos. Fomentar h√°bitos saludables en familia. Comidas regulares.",
      "Adultos mayores": "Dieta equilibrada adaptada a necesidades, buena hidrataci√≥n (recordatorios), textura adecuada si hay dificultad para masticar. Suplementar si necesario.",
      "Deportistas - F√∫tbol": "Alto consumo de carbohidratos complejos (pasta, arroz, patata), hidrataci√≥n constante antes/durante/despu√©s, prote√≠nas para recuperaci√≥n muscular.",
      "Deportistas - Pesas": "Aporte elevado de prote√≠nas de calidad (2g/kg), control de carbohidratos seg√∫n fase, suplementos (creatina, prote√≠na) si es necesario y supervisado.",
      "Deportistas - B√°squet": "Carbohidratos para resistencia (cereales, frutas), snacks pre y post entrenamiento (fruta + yogur), hidrataci√≥n adecuada con electrolitos.",
      "Deportistas - Tenis": "Hidrataci√≥n intensiva (agua + electrolitos), carbohidratos de absorci√≥n r√°pida (frutas) y lenta (cereales), sales minerales durante partidos largos.",
      "Condiciones neurol√≥gicas - Parkinson": "Fraccionar comidas, dieta rica en fibra para estre√±imiento, adecuada hidrataci√≥n. Texturas adecuadas si hay dificultad para tragar.",
      "Condiciones neurol√≥gicas - Alzheimer": "Alimentos f√°ciles de masticar y digerir, control de textura, supervisar hidrataci√≥n y consumo. Ambiente tranquilo para comer.",
      "Condiciones neurol√≥gicas - Esclerosis m√∫ltiple": "Aporte suficiente de energ√≠a, control de peso, vitaminas y minerales clave (D, B12). Fibra para estre√±imiento. Hidrataci√≥n constante.",
      "Condiciones neurol√≥gicas - Par√°lisis cerebral": "Adaptar consistencia de alimentos (pur√©s, gelatinas), dieta alta en nutrientes densos, prevenir estre√±imiento con fibra y agua. Supervisi√≥n durante comidas.",
    };

    // Renderizar condiciones
    function renderizarCondiciones() {
      const seleccionDiv = document.getElementById('seleccion');
      seleccionDiv.innerHTML = '';

      Object.entries(condiciones).forEach(([key, grupo]) => {
        const grupoDiv = document.createElement('div');
        grupoDiv.className = 'grupo-card';
        
        const grupoHeader = document.createElement('div');
        grupoHeader.className = 'grupo-header';
        grupoHeader.innerHTML = `
          <i class="${grupo.icono}" style="color: ${grupo.color};"></i>
          <h3>${grupo.nombre}</h3>
        `;
        grupoDiv.appendChild(grupoHeader);

        grupo.items.forEach(cond => {
          const div = document.createElement('div');
          div.className = 'form-check';
          
          const input = document.createElement('input');
          input.type = 'checkbox';
          input.className = 'form-check-input';
          input.id = `check-${cond.replace(/\s+/g, '-').toLowerCase()}`;
          input.value = cond;
          
          const label = document.createElement('label');
          label.className = 'form-check-label';
          label.htmlFor = input.id;
          label.innerHTML = `
            <i class="fas fa-prescription-bottle-alt"></i>
            ${cond}
          `;
          
          input.addEventListener('change', () => mostrarProtocolos());
          
          div.appendChild(input);
          div.appendChild(label);
          grupoDiv.appendChild(div);
        });

        seleccionDiv.appendChild(grupoDiv);
      });
    }

    // Filtrar condiciones por b√∫squeda
    function filtrarCondiciones() {
      const texto = document.getElementById('busqueda').value.toLowerCase();
      const checkboxes = document.querySelectorAll('.form-check');
      
      checkboxes.forEach(checkbox => {
        const label = checkbox.querySelector('.form-check-label');
        const textoCondicion = label.textContent.toLowerCase();
        
        if (texto === '' || textoCondicion.includes(texto)) {
          checkbox.style.display = 'block';
        } else {
          checkbox.style.display = 'none';
        }
      });
    }

    // Mostrar protocolos
    function mostrarProtocolos() {
      const checked = document.querySelectorAll('#seleccion input:checked');
      const protocolosDiv = document.getElementById('protocolos');
      protocolosDiv.innerHTML = '';

      if (checked.length === 0) {
        protocolosDiv.innerHTML = `
          <div class="alert alert-secondary text-center">
            Selecciona una o m√°s condiciones para ver sugerencias...
          </div>
        `;
        return;
      }

      checked.forEach(cb => {
        const div = document.createElement('div');
        div.className = 'protocolo-card';
        div.innerHTML = `
          <h5><i class="fas fa-clipboard-list"></i> ${cb.value}</h5>
          <p>${protocolos[cb.value] || 'Protocolo pendiente de actualizaci√≥n.'}</p>
        `;
        protocolosDiv.appendChild(div);
      });
    }

    // Imprimir protocolos
    function imprimirProtocolos() {
      window.print();
    }

    // Inicializar
    document.addEventListener('DOMContentLoaded', function() {
      renderizarCondiciones();
    });
  </script>
</body>
</html>
