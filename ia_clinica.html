<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸ“‹ GestiÃ³n ClÃ­nica Nutricional - Consultorio ObstNut</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      min-height: 100vh;
      padding: 2rem 1rem;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .card {
      box-shadow: 0 8px 30px rgba(0,0,0,0.1);
      border: 0;
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 30px;
    }
    .card-header {
      background: linear-gradient(90deg, #2563eb, #3b82f6);
      color: white;
      font-weight: 600;
      padding: 25px;
      text-align: center;
    }
    .grupo-card {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      margin-bottom: 30px;
    }
    .grupo-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #f0f0f0;
    }
    .grupo-header i {
      font-size: 1.5rem;
    }
    .grupo-header h3 {
      margin: 0;
      color: #1e40af;
    }
    .form-check {
      margin: 10px 0;
    }
    .form-check-label {
      font-size: 1.05rem;
      padding: 8px 12px;
      border-radius: 8px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .form-check-input:checked + .form-check-label {
      background: #dbeafe;
      border: 2px solid #3b82f6;
      color: #1e40af;
      font-weight: 500;
    }
    .protocolo-card {
      background: #ecfdf5;
      border-left: 5px solid #10b981;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(16, 185, 129, 0.1);
      margin: 20px 0;
      transition: transform 0.3s ease;
    }
    .protocolo-card:hover {
      transform: translateY(-3px);
    }
    .protocolo-card h5 {
      color: #065f46;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .protocolo-card p {
      margin: 0;
      line-height: 1.7;
      color: #374151;
      font-size: 1.05rem;
    }
    .btn-primary {
      background: #2563eb;
      border: none;
      padding: 12px 24px;
      font-weight: 600;
      border-radius: 10px;
      font-size: 1.1rem;
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      background: #1d4ed8;
      transform: translateY(-2px);
    }
    .btn-imprimir {
      background: #2196f3;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 500;
      margin-top: 20px;
    }
    .search-box {
      max-width: 600px;
      margin: 20px auto 30px;
    }
    .search-box input {
      width: 100%;
      padding: 12px 20px;
      border-radius: 12px;
      border: 2px solid #e5e7eb;
      font-size: 1.1rem;
    }
    .search-box input:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
    footer {
      margin-top: 40px;
      text-align: center;
      color: #666;
      font-size: 0.9rem;
      padding: 20px;
    }
    @media print {
      body {
        background: white;
        padding: 20px;
      }
      .btn-imprimir, .search-box, footer {
        display: none !important;
      }
      .card, .grupo-card, .protocolo-card {
        box-shadow: none !important;
        border: 1px solid #ddd;
      }
      .protocolo-card {
        page-break-inside: avoid;
        margin: 15px 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <div class="card">
          <div class="card-header">
            <h1 class="mb-2">ðŸ“‹ GestiÃ³n ClÃ­nica Nutricional</h1>
            <p class="mb-0 opacity-75">Herramienta para profesionales - Consultorio ObstNut</p>
          </div>
          <div class="card-body p-4">
            <div class="alert alert-info" role="alert">
              <i class="fas fa-info-circle"></i> <strong>Selecciona una o mÃ¡s condiciones</strong> para ver los protocolos nutricionales recomendados.
            </div>

            <!-- BÃºsqueda -->
            <div class="search-box">
              <input type="text" id="busqueda" placeholder="Buscar condiciÃ³n (ej: diabetes, embarazo, deportistas...)" oninput="filtrarCondiciones()">
            </div>

            <!-- SecciÃ³n de selecciÃ³n -->
            <div id="seleccion"></div>

            <!-- BotÃ³n de imprimir -->
            <div class="text-center mt-4">
              <button onclick="imprimirProtocolos()" class="btn btn-imprimir">
                <i class="fas fa-print"></i> Imprimir Protocolos Seleccionados
              </button>
            </div>

            <!-- Protocolos -->
            <hr class="my-5">
            <h2 class="text-center mb-4">ðŸŽ¯ Protocolos Nutricionales Sugeridos</h2>
            <div id="protocolos">
              <div class="alert alert-secondary text-center">
                Selecciona una o mÃ¡s condiciones para ver sugerencias...
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <p><i class="fas fa-heart" style="color:#2563eb;"></i> Â© 2025 Consultorio ObstNut â€” AtenciÃ³n nutricional personalizada</p>
    </footer>
  </div>

  <script>
    const condiciones = {
      cronicas: {
        nombre: "Enfermedades CrÃ³nicas",
        icono: "fas fa-heartbeat",
        color: "#ef4444",
        items: [
          "HipertensiÃ³n arterial",
          "Diabetes tipo 1",
          "Diabetes tipo 2",
          "Dislipidemias",
          "Obesidad / Sobrepeso",
          "Insuficiencia renal crÃ³nica",
          "SÃ­ndrome metabÃ³lico",
          "Hipotiroidismo",
          "HÃ­gado graso",
        ]
      },
      agudas: {
        nombre: "Condiciones Agudas",
        icono: "fas fa-bolt",
        color: "#f59e0b",
        items: [
          "Gastritis",
          "Colitis",
          "SII",
          "Alergias / Intolerancias",
          "EstreÃ±imiento",
          "Diarrea",
          "MigraÃ±as alimentarias",
        ]
      },
      postquirurgicos: {
        nombre: "PostquirÃºrgicos",
        icono: "fas fa-briefcase-medical",
        color: "#8b5cf6",
        items: [
          "CirugÃ­a de vesÃ­cula",
          "ApendicectomÃ­a",
          "Fracturas / trauma",
          "CirugÃ­as ginecolÃ³gicas",
          "CirugÃ­a bariÃ¡trica",
        ]
      },
      especiales: {
        nombre: "Grupos Especiales",
        icono: "fas fa-users",
        color: "#10b981",
        items: [
          "Embarazo / Lactancia",
          "NiÃ±os",
          "Adultos mayores",
          "Deportistas - FÃºtbol",
          "Deportistas - Pesas",
          "Deportistas - BÃ¡squet",
          "Deportistas - Tenis",
          "Condiciones neurolÃ³gicas - Parkinson",
          "Condiciones neurolÃ³gicas - Alzheimer",
          "Condiciones neurolÃ³gicas - Esclerosis mÃºltiple",
          "Condiciones neurolÃ³gicas - ParÃ¡lisis cerebral",
        ]
      },
    };

    const protocolos = {
      "HipertensiÃ³n arterial": "Dieta hiposÃ³dica, rica en potasio natural, evitar embutidos y enlatados. Fomentar consumo de frutas, verduras y lÃ¡cteos bajos en grasa.",
      "Diabetes tipo 1": "Control estricto de carbohidratos, ajuste de insulina segÃºn indicaciÃ³n mÃ©dica. DistribuciÃ³n equilibrada de comidas y snacks.",
      "Diabetes tipo 2": "Dieta hipoglucÃ©mica, controlar Ã­ndice glucÃ©mico, repartir carbohidratos complejos. Priorizar fibra y proteÃ­nas magras.",
      "Dislipidemias": "Reducir grasas saturadas y trans, aumentar omega 3 (pescado, nueces) y fibra soluble (avena, legumbres). Cocinar sin aceite.",
      "Obesidad / Sobrepeso": "Dieta hipocalÃ³rica personalizada, fomentar actividad fÃ­sica diaria, control de porciones y horarios. Evitar ultraprocesados.",
      "Insuficiencia renal crÃ³nica": "Dieta baja en potasio, fÃ³sforo y proteÃ­nas segÃºn estadio. Restringir lÃ­quidos si aplica. Evitar sal y alimentos procesados.",
      "SÃ­ndrome metabÃ³lico": "Dieta balanceada baja en azÃºcares simples, aumentar fibra, control de peso y actividad fÃ­sica regular. Priorizar alimentos integrales.",
      "Hipotiroidismo": "Aporte adecuado de yodo (pescado, mariscos) y selenio (nueces, huevos). Evitar exceso de soja y crucÃ­feras crudas. Cocinar verduras.",
      "HÃ­gado graso": "Dieta baja en grasas saturadas y azÃºcares, controlar peso gradual, evitar alcohol completamente. Aumentar vegetales y fibra.",
      "Gastritis": "Evitar alimentos Ã¡cidos, picantes, cafÃ© y alcohol. Fraccionar comidas en 5-6 tomas diarias. Priorizar cocciones suaves (hervido, al vapor).",
      "Colitis": "Evitar irritantes (picantes, grasas, cafeÃ­na), aumentar fibra soluble (avena, manzana cocida), fraccionar comidas. HidrataciÃ³n constante.",
      "SII": "Dieta baja en FODMAP inicialmente, control de estrÃ©s, registro de sÃ­ntomas y alimentos desencadenantes. ReintroducciÃ³n gradual guiada.",
      "Alergias / Intolerancias": "Identificar y excluir alimentos desencadenantes, leer etiquetas cuidadosamente, usar sustitutos adecuados. EducaciÃ³n nutricional continua.",
      "EstreÃ±imiento": "Aumentar fibra gradualmente (frutas con cÃ¡scara, verduras, cereales integrales), hidrataciÃ³n adecuada (2-3L/dÃ­a), fomentar actividad fÃ­sica diaria.",
      "Diarrea": "HidrataciÃ³n oral con sales, dieta astringente (arroz blanco, zanahoria cocida, manzana asada), evitar irritantes y lÃ¡cteos enteros. ReposiciÃ³n de electrolitos.",
      "MigraÃ±as alimentarias": "Identificar desencadenantes (quesos aÃ±ejos, chocolate, glutamato), evitar alimentos procesados, fraccionar comidas. Mantener horarios regulares.",
      "CirugÃ­a de vesÃ­cula": "Dieta baja en grasas inicialmente, fraccionar comidas en 5-6 tomas, evitar irritantes y fritos. Aumentar fibra gradualmente.",
      "ApendicectomÃ­a": "Dieta blanda postquirÃºrgica (arroz, pollo desmenuzado, purÃ©s), reintroducciÃ³n gradual de fibra, hidrataciÃ³n constante. Evitar alimentos pesados.",
      "Fracturas / trauma": "Aporte adecuado de proteÃ­nas (1.2-1.5g/kg), calcio (lÃ¡cteos, sardinas) y vitamina D (sol, suplementos). HidrataciÃ³n y alimentos antiinflamatorios.",
      "CirugÃ­as ginecolÃ³gicas": "Dieta equilibrada rica en hierro (carne, lentejas, espinacas) y proteÃ­nas, control de estreÃ±imiento con fibra y agua. Evitar flatulentos.",
      "CirugÃ­a bariÃ¡trica": "Dieta fraccionada en 6 comidas, control estricto de proteÃ­nas (60-80g/dÃ­a), suplementos vitamÃ­nicos segÃºn indicaciÃ³n. Masticar bien y comer lento.",
      "Embarazo / Lactancia": "Aporte adecuado de calorÃ­as y nutrientes (hierro, Ã¡cido fÃ³lico, calcio), hidrataciÃ³n (3L/dÃ­a), control de anemia. Evitar alcohol y cafeÃ­na.",
      "NiÃ±os": "Dieta equilibrada con variedad de alimentos, evitar ultraprocesados y azÃºcares aÃ±adidos. Fomentar hÃ¡bitos saludables en familia. Comidas regulares.",
      "Adultos mayores": "Dieta equilibrada adaptada a necesidades, buena hidrataciÃ³n (recordatorios), textura adecuada si hay dificultad para masticar. Suplementar si necesario.",
      "Deportistas - FÃºtbol": "Alto consumo de carbohidratos complejos (pasta, arroz, patata), hidrataciÃ³n constante antes/durante/despuÃ©s, proteÃ­nas para recuperaciÃ³n muscular.",
      "Deportistas - Pesas": "Aporte elevado de proteÃ­nas de calidad (2g/kg), control de carbohidratos segÃºn fase, suplementos (creatina, proteÃ­na) si es necesario y supervisado.",
      "Deportistas - BÃ¡squet": "Carbohidratos para resistencia (cereales, frutas), snacks pre y post entrenamiento (fruta + yogur), hidrataciÃ³n adecuada con electrolitos.",
      "Deportistas - Tenis": "HidrataciÃ³n intensiva (agua + electrolitos), carbohidratos de absorciÃ³n rÃ¡pida (frutas) y lenta (cereales), sales minerales durante partidos largos.",
      "Condiciones neurolÃ³gicas - Parkinson": "Fraccionar comidas, dieta rica en fibra para estreÃ±imiento, adecuada hidrataciÃ³n. Texturas adecuadas si hay dificultad para tragar.",
      "Condiciones neurolÃ³gicas - Alzheimer": "Alimentos fÃ¡ciles de masticar y digerir, control de textura, supervisar hidrataciÃ³n y consumo. Ambiente tranquilo para comer.",
      "Condiciones neurolÃ³gicas - Esclerosis mÃºltiple": "Aporte suficiente de energÃ­a, control de peso, vitaminas y minerales clave (D, B12). Fibra para estreÃ±imiento. HidrataciÃ³n constante.",
      "Condiciones neurolÃ³gicas - ParÃ¡lisis cerebral": "Adaptar consistencia de alimentos (purÃ©s, gelatinas), dieta alta en nutrientes densos, prevenir estreÃ±imiento con fibra y agua. SupervisiÃ³n durante comidas.",
    };

    // Renderizar condiciones
    function renderizarCondiciones() {
      const seleccionDiv = document.getElementById('seleccion');
      seleccionDiv.innerHTML = '';

      Object.entries(condiciones).forEach(([key, grupo]) => {
        const grupoDiv = document.createElement('div');
        grupoDiv.className = 'grupo-card';
        
        const grupoHeader = document.createElement('div');
        grupoHeader.className = 'grupo-header';
        grupoHeader.innerHTML = `
          <i class="${grupo.icono}" style="color: ${grupo.color};"></i>
          <h3>${grupo.nombre}</h3>
        `;
        grupoDiv.appendChild(grupoHeader);

        grupo.items.forEach(cond => {
          const div = document.createElement('div');
          div.className = 'form-check';
          
          const input = document.createElement('input');
          input.type = 'checkbox';
          input.className = 'form-check-input';
          input.id = `check-${cond.replace(/\s+/g, '-').toLowerCase()}`;
          input.value = cond;
          
          const label = document.createElement('label');
          label.className = 'form-check-label';
          label.htmlFor = input.id;
          label.innerHTML = `
            <i class="fas fa-prescription-bottle-alt"></i>
            ${cond}
          `;
          
          input.addEventListener('change', () => mostrarProtocolos());
          
          div.appendChild(input);
          div.appendChild(label);
          grupoDiv.appendChild(div);
        });

        seleccionDiv.appendChild(grupoDiv);
      });
    }

    // Filtrar condiciones por bÃºsqueda
    function filtrarCondiciones() {
      const texto = document.getElementById('busqueda').value.toLowerCase();
      const checkboxes = document.querySelectorAll('.form-check');
      
      checkboxes.forEach(checkbox => {
        const label = checkbox.querySelector('.form-check-label');
        const textoCondicion = label.textContent.toLowerCase();
        
        if (texto === '' || textoCondicion.includes(texto)) {
          checkbox.style.display = 'block';
        } else {
          checkbox.style.display = 'none';
        }
      });
    }

    // Mostrar protocolos
    function mostrarProtocolos() {
      const checked = document.querySelectorAll('#seleccion input:checked');
      const protocolosDiv = document.getElementById('protocolos');
      protocolosDiv.innerHTML = '';

      if (checked.length === 0) {
        protocolosDiv.innerHTML = `
          <div class="alert alert-secondary text-center">
            Selecciona una o mÃ¡s condiciones para ver sugerencias...
          </div>
        `;
        return;
      }

      checked.forEach(cb => {
        const div = document.createElement('div');
        div.className = 'protocolo-card';
        div.innerHTML = `
          <h5><i class="fas fa-clipboard-list"></i> ${cb.value}</h5>
          <p>${protocolos[cb.value] || 'Protocolo pendiente de actualizaciÃ³n.'}</p>
        `;
        protocolosDiv.appendChild(div);
      });
    }

    // Imprimir protocolos
    function imprimirProtocolos() {
      window.print();
    }

    // Inicializar
    document.addEventListener('DOMContentLoaded', function() {
      renderizarCondiciones();
    });
  </script>
</body>
</html>
